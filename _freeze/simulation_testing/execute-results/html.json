{
  "hash": "00bc163449511d8b6b9a18e078f1636f",
  "result": {
    "engine": "knitr",
    "markdown": "---\nbibliography: references.bib\n---\n\n\n\n\n\n\n# Simulation Testing\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\n## Introduction\n\nTesting a proposed model against simulated data generated from a known underlying process is an important but sometimes overlooked step in ecological research [@austin2006; @lotterhos2022]. In fisheries science, simulation testing is commonly used to evaluate stock assessment and population dynamic models and assess their robustness to various types of error [@deroba2015; @piner2011].\n\nBefore applying the size-at-maturity estimation procedures identified through the systematic review to real data, I will create multiple simulated datasets with differing characteristics in order to determine the domains of applicability and inference of each model. The domain of applicability refers to the types of datasets to which a model can reliably be applied, while the domain of inference is defined as the processes or conclusions that can be inferred from the model output [@lotterhos2022]. The methodology for this chapter will be heavily influenced by the principles for ecological simulation testing outlined by Lotterhos et al. [-@lotterhos2022] and the guidelines for computational method benchmarking developed by Weber et al. [-@weber2019] (See [Box 1](#box1)).\n\n::: {#box1 .box}\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jwknpsrmmt\" style=\"padding-left:0px;padding-right:0px;padding-top:0px;padding-bottom:0px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jwknpsrmmt table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jwknpsrmmt thead, #jwknpsrmmt tbody, #jwknpsrmmt tfoot, #jwknpsrmmt tr, #jwknpsrmmt td, #jwknpsrmmt th {\n  border-style: none;\n}\n\n#jwknpsrmmt p {\n  margin: 0;\n  padding: 0;\n}\n\n#jwknpsrmmt .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jwknpsrmmt .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jwknpsrmmt .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jwknpsrmmt .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jwknpsrmmt .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jwknpsrmmt .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jwknpsrmmt .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jwknpsrmmt .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jwknpsrmmt .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jwknpsrmmt .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jwknpsrmmt .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jwknpsrmmt .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jwknpsrmmt .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jwknpsrmmt .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jwknpsrmmt .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jwknpsrmmt .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jwknpsrmmt .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jwknpsrmmt .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jwknpsrmmt .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jwknpsrmmt .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jwknpsrmmt .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jwknpsrmmt .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jwknpsrmmt .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jwknpsrmmt .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jwknpsrmmt .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jwknpsrmmt .gt_left {\n  text-align: left;\n}\n\n#jwknpsrmmt .gt_center {\n  text-align: center;\n}\n\n#jwknpsrmmt .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jwknpsrmmt .gt_font_normal {\n  font-weight: normal;\n}\n\n#jwknpsrmmt .gt_font_bold {\n  font-weight: bold;\n}\n\n#jwknpsrmmt .gt_font_italic {\n  font-style: italic;\n}\n\n#jwknpsrmmt .gt_super {\n  font-size: 65%;\n}\n\n#jwknpsrmmt .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jwknpsrmmt .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jwknpsrmmt .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jwknpsrmmt .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jwknpsrmmt .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jwknpsrmmt .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jwknpsrmmt .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jwknpsrmmt .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jwknpsrmmt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style=\"border-top-width: 1px; border-top-style: hidden; border-top-color: #000000;\">Box 1: Computational benchmarking guidelines</td>\n    </tr>\n    \n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">1</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Define the purpose and the scope of the benchmark.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">2</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Include all relevant methods.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">3</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Select (or design) appropriate datasets.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">4</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Choose appropriate parameter values and software versions.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">5</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Evaluate methods according to key quantitative performance metrics.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">6</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Evaluate secondary metrics including computational requirements, user-friendliness, installation procedures, and documentation quality.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">7</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Interpret results and provide recommendations from both user and method developer perspectives.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">8</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Publish results in an accessible format.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">9</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Design the benchmark to include future extensions.</td></tr>\n    <tr><td headers=\"num\" class=\"gt_row gt_right\">10</td>\n<td headers=\"guide\" class=\"gt_row gt_left\">Follow reproducible research best practices, by making code and data publicly available.</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n:::\n\n## Model descriptions\n\n## Testing the models\n\n### Initial comparison - all models\n\nI will first test all methods on “nice” data, which will be 100 randomly generated data sets with the same parametrization, designed to mimic a real-world dataset.\n\nFor the regression methods that accept or require upper and lower bounds for the possible SM50 value, combinations of quantiles representing the upper and lower bounds will be tested, with each combination tested on each of the original 100 randomly generated data sets to determine how slight changes in the data might affect where the upper and lower bounds should be set. For regression methods that accept possible numbers of breakpoints, I will test breakpoint values from 10 to 1000 in increments of 10.\n\nFor clustering methods, I will test every combination of distance metric, agglomeration method, or k-means algorithm accepted by the given clustering function. Finally, all of the above procedures will be repeated on log-transformed data, standardized (scaled and centered) data, and, where possible for the method, transformed using PCA.\n\n### Comparison on different data sets\n\nI will choose the best-performing representative (highest % accuracy for clustering methods before regression, lowest MAE) from each general modeling approach to move on to a second round of simulation testing. If not already included, very popular methods (namely, `segmented`, `regrans`, and Somerton’s method) will also be included in the second round of testing. The second round of simulation testing will include changing the location of SM50 within the range of the data, the logistic slope parameter, the allometric growth parameters, and the level of error/noise in the data.\n\nFor any remaining regression methods that accept or require upper and lower bounds for the possible SM50 value, I will again test combinations of quartiles representing the upper and lower bounds. This time, the testing will be done for the original parametrization of the data as well as 20 data sets where SM50 is much closer to the low end of the range of x-values and 20 data sets where SM50 is near the higher end of the x values in the data set.\n\n### Testing sampling bias\n\nSimulation studies can serve as a powerful tool to assess the effects of sampling strategies, sample size, and sampling bias on the output of an ecological model [@meynard2019; @lotterhos2022]. For parameter combinations where the model is effective, I will conduct a final round of simulation testing evaluating model performance on different sample sizes and size class representations.\n\n-   100 datasets for each sample size\n-   100 datasets for each size class representation (subsample 50-50, subsample 80-20, 20-80)\n\n## References {.unnumbered}\n",
    "supporting": [
      "simulation_testing_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}